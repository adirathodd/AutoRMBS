<!DOCTYPE html>
<html data-wf-page="67919278d1b4484a4818ef5d" data-wf-site="67919278d1b4484a4818ef5d">
<head>
  <!-- Move jQuery to the top and use a different CDN -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
  
  <!-- Rest of your head content -->
  <meta charset="utf-8">
  <title>Projects</title>
  <meta content="Projects" property="og:title">
  <meta content="Projects" property="twitter:title">
  <meta content="width=device-width, initial-scale=1" name="viewport">
  <meta content="Webflow" name="generator">
  <link href="/templates/css/normalize.css" rel="stylesheet" type="text/css">
  <link href="/templates/css/webflow.css" rel="stylesheet" type="text/css">
  <link href="/templates/css/autormbs-ai.webflow.css" rel="stylesheet" type="text/css">
  <link href="https://fonts.googleapis.com" rel="preconnect">
  <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin="anonymous">
  <script src="https://ajax.googleapis.com/ajax/libs/webfont/1.6.26/webfont.js" type="text/javascript"></script>
  
  <!-- Update webflow.js path -->
  <script src="https://d3e54v103j8qbb.cloudfront.net/js/jquery-3.5.1.min.dc5e7f18c8.js?site=67919278d1b4484a4818ef0c" type="text/javascript" integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script>
  <script src="/js/webflow.js" type="text/javascript"></script>
  
  <!-- Load PDF.js -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/2.10.377/pdf.min.js"></script>
  
  <!-- Update image paths in the HTML -->
  <img src="/templates/images/menu-icon_1menu-icon.png" width="22" alt="" class="menu-icon">
</head>
<body>
  <!-- Navigation -->
  <div data-collapse="medium" data-animation="default" data-duration="400" data-easing="ease" data-easing2="ease" role="banner" class="navigation w-nav">
    <div class="navigation-wrap">
      <a href="/templates/index.html" class="logo-link w-nav-brand">
        <div class="text-block">AutoRMBS</div>
      </a>
      <div class="menu">
        <nav role="navigation" class="navigation-items w-nav-menu">
          <a href="/templates/about.html" class="navigation-item w-nav-link">About</a>
          <a href="/templates/inputs.html" aria-current="page" class="navigation-item w-nav-link w--current">Work</a>
          <a href="/templates/contact.html" class="navigation-item w-nav-link">Contact</a>
        </nav>
        <div class="menu-button w-nav-button">
          <img src="/templates/images/menu-icon_1menu-icon.png" width="22" alt="" class="menu-icon">
        </div>
      </div>
      <a href="/templates/login.html" class="primary-button cc-contact-us w-inline-block">
        <div>LOG IN</div>
      </a>
    </div>
  </div>

  <!-- Main Content -->
  <div class="section cc-home-wrap">
    <div class="intro-header">
      <div class="intro-content">
        <div class="heading-jumbo">Automate Pricing</div>
      </div>
    </div>
    
    <div class="section">
      <div class="container">
        <div class="work-content-wrap">
          <div class="w-layout-grid project-overview-grid">
            <!-- PDF Input Section -->
            <div class="project-description">
              <div class="position-name-text">PDF Input</div>
              <div class="paragraph-light">Input your PDFs containing your mortgage information below</div>
              <form id="pdf-form" enctype="multipart/form-data" class="work-form w-form">
                <div class="form-group">
                  <label for="pdf-upload" class="label cc-light">Choose PDF:</label>
                  <input type="file" name="pdf-upload" id="pdf-upload" accept="application/pdf" class="file-input w-input">
                  <input type="submit" value="Upload" class="button w-button">
                </div>
                <textarea id="extracted_text" rows="10" class="text-area w-input" placeholder="Extracted PDF text will appear here..."></textarea>
                <input type="text" id="price_output" class="text-field w-input" placeholder="Extracted price will appear here..." readonly>
              </form>
            </div>

            <!-- Excel Input Section -->
            <div class="project-description">
              <div class="position-name-text">Excel Input</div>
              <div class="paragraph-light">Input your Excel files containing your pricing model below</div>
              <div class="form-group">
                <input type="file" accept=".xls,.xlsx" name="excel-upload" id="excel-upload" class="file-input w-input">
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    
    <!-- Add the CTA and footer sections here -->
    <div class="section cc-cta">
      <div class="container">
        <div class="cta-wrap">
          <div>
            <div class="cta-text">
              <div class="heading-jumbo-small">Create an Account<br></div>
              <div class="paragraph-bigger cc-bigger-light">Today is the day to integrate AI - one of the fastest growing industries - into your daily work<br></div>
            </div>
            <a href="/templates/create-account.html" class="primary-button cc-jumbo-button w-inline-block">
              <div>Create Account</div>
            </a>
          </div>
        </div>
      </div>
    </div>
    <div class="section">
      <div class="container">
        <div class="footer-wrap">
          <a href="#" target="_blank" class="w-inline-block">
            <div class="paragraph-tiny">Powered and sponsored by Microsoft</div>
          </a>
        </div>
      </div>
    </div>
  </div>

  <!-- Scripts -->
  <script src="/js/webflow.js" type="text/javascript"></script>

  <!-- PDF Processing Function -->
  <script>
    function processPDF(file) {
      const reader = new FileReader();
      reader.onload = function(e) {
        const pdf = pdfjsLib.getDocument({ data: e.target.result });
        pdf.promise.then(pdf => {
          const numPages = pdf.numPages;
          let fullText = '';

          for (let i = 1; i <= numPages; i++) {
            pdf.getPage(i).then(page => {
              page.getTextContent().then(textContent => {
                const text = textContent.items.map(item => item.str).join(' ');
                fullText += text + ' ';
                document.getElementById('extracted_text').value = fullText;
              });
            });
          }
        }).catch(error => {
          console.error('Error extracting text:', error);
          document.getElementById('extracted_text').value = 'Error processing PDF.';
        });
      };
      reader.readAsArrayBuffer(file);
    }

    // Handle PDF Form Submission
    $('#pdf-form').on('submit', function (e) {
      e.preventDefault();
      const fileInput = document.getElementById('pdf-upload');
      const file = fileInput.files[0];

      if (file) {
        const formData = new FormData();
        formData.append('pdf-upload', file);

        $.ajax({
          url: '/upload',
          type: 'POST',
          data: formData,
          processData: false,
          contentType: false,
          success: function(response) {
            // Format the financial details for display
            let displayText = 'Financial Details:\n\n';
            
            // Add GPT response
            if (response.pdf_text) {
              displayText += 'GPT Response:\n' + response.pdf_text + '\n\n';
            }
            
            // Display result
            $('#extracted_text').val(displayText);
          }
        });
      } else {
        alert("Please choose a PDF file first.");
      }
    });
  </script>
</body>
</html>
